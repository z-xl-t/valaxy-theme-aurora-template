import{d as L,y as Q,k as f,b as B,o,e as n,g as i,C as A,F as k,B as q,i as g,c as S,w,f as z,u as V,z as D,D as j,Q as E,a as F,I as K,M as I,L as M,O as R}from"./app-58b5b998.js";import{_ as W}from"./AuroraPostCollapse.vue_vue_type_script_setup_true_lang-5d2a45b1.js";import{s as b,a as O,_ as P}from"./index-af317849.js";const G={class:"category-header"},H={key:0,"i-ri-folder-add-line":""},J={key:1,"i-ri-folder-reduce-line":""},X={key:0,class:"category-container"},Y={class:"category-list"},Z={class:"category-list"},x=i("div",{"i-ri-file-text-line":""},null,-1),ee=L({__name:"AuroraCategory",props:{parentKey:{},category:{},level:{default:0},collapsable:{type:Boolean,default:!0}},setup(C){var y;const u=C,p=Q(),l=f(!0);function d(t){p.push({query:{category:t}}),b(".post-collapse-container")}const m=f([]),_=f([]);return(y=u==null?void 0:u.category)==null||y.children.forEach(t=>{const r=t;r.children?_.value.push(r):m.value.push(r)}),(t,r)=>{var h,c,a;const s=B("AuroraCategory",!0),$=B("router-link");return o(),n(k,null,[i("div",G,[i("span",{onClick:r[0]||(r[0]=e=>l.value=!l.value)},[l.value?(o(),n("div",H)):(o(),n("div",J))]),i("span",{onClick:r[1]||(r[1]=e=>d(t.parentKey))},A(((h=t.category)==null?void 0:h.name)==="Uncategorized"?"未分类":(c=t.category)==null?void 0:c.name)+" ["+A((a=t.category)==null?void 0:a.total)+"] ",1)]),l.value?z("v-if",!0):(o(),n("div",X,[i("ul",Y,[(o(!0),n(k,null,q(_.value,(e,v)=>(o(),n("li",{key:v},[i("div",Z,[g(s,{"parent-key":t.parentKey?`${t.parentKey}/${e==null?void 0:e.name}`:e==null?void 0:e.name,category:e,level:t.level+1,collapsable:t.collapsable},null,8,["parent-key","category","level","collapsable"])])]))),128)),(o(!0),n(k,null,q(m.value,(e,v)=>(o(),n("li",{key:v,class:"category-post-item"},[e!=null&&e.title?(o(),S($,{key:0,to:(e==null?void 0:e.path)||""},{default:w(()=>[x,i("span",null,A(e==null?void 0:e.title),1)]),_:2},1032,["to"])):z("v-if",!0)]))),128))])]))],64)}}}),te={class:"categories"},oe=L({__name:"AuroraCategories",setup(C){const u=V(),p=D().name,l=O(u.value.menu,p),d=j(),m=E().value.children,_=f(!0),y=f(0),t=D(),r=Q(),s=F(()=>t.query.category||""),$=F(()=>d.postList.filter(a=>a.categories&&s.value!=="Uncategorized"?typeof a.categories=="string"?a.categories===s.value:a.categories.join("/").startsWith(s.value)&&a.categories[0]===s.value.split("/")[0]:!a.categories&&s.value==="Uncategorized"?a.categories===void 0:!1));function h(){const c=t.name;c&&r.push({name:c})}return(c,a)=>{const e=P,v=ee,T=W;return o(),n("div",te,[g(e,{quote:K(l)},null,8,["quote"]),(o(!0),n(k,null,q(K(m),(N,U)=>(o(),n("ul",{key:U,class:"category-list"},[g(v,{"parent-key":N.name,category:N,level:y.value+1,collapsable:_.value},null,8,["parent-key","category","level","collapsable"])]))),128)),g(T,{title:s.value,posts:$.value,back:h},null,8,["title","posts"])])}}}),se=L({__name:"categories",setup(C){const p=I().value.comment||!1;return(l,d)=>{const m=oe,_=B("router-view"),y=R,t=M;return o(),S(t,null,{"main-content":w(()=>[g(m),g(_)]),"main-comment":w(()=>[K(p)?(o(),S(y,{key:0})):z("v-if",!0)]),_:1})}}});export{se as default};
